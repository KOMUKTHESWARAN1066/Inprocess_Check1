// @flow
import React from 'react';
import { Modal, StatusBar, Platform } from 'react-native';

class CustomModal extends React.Component {
  state = {
    isVisible: false
  };

  show = (onShow: () => {}) => {
    if (this.props.statusBarHidden && Platform.OS === 'ios')
      StatusBar.setHidden(true);
    this.setState({ isVisible: true }, onShow);
  };

  hide = () => {
    if (this.props.statusBarHidden && Platform.OS === 'ios')
      StatusBar.setHidden(false);
    this.setState({ isVisible: false });
  };

  render() {
    return (
      <Modal
        animationType={'none'}
        transparent
        visible={this.state.isVisible}
        hardwareAccelerated
        onRequestClose={this.hide}
        supportedOrientations={['portrait', 'landscape']}
        {...this.props}
      >
        {this.props.children}
      </Modal>
    );
  }
}

export default CustomModal;
